[
  {
    "path": "posts/2022-07-23-anlise-da-base-rais/",
    "title": "Análise da base RAIS",
    "description": "Análise em R dos salários referentes a cientistas de dados na base RAIS (Para este caso: 390.583 linhas, 267.60 GB). De início é feito uma análise exploratória e em seguida é encontrado um modelo através de Regressão Linear. Projeto feito com auxílio da Semana Data Science na Prática da Curso-R.",
    "author": [
      {
        "name": "João Vitor Alencar Amorim",
        "url": "https://example.com/joaoalencaramorim"
      }
    ],
    "date": "2022-07-23",
    "categories": [],
    "contents": "\r\nPerguntas de pesquisa:\r\nQuanto ganhou em média um Ciêntista de Dados no Brasil em 2020?\r\nQuanto o salário médio varia no tempo?\r\nQuanto o salário médio varia regionalmente?\r\nQuanto o salário médio varia por características do profissional\r\n(gênero, raça/cor, idade)\r\nFonte:\r\nRelação\r\nAnual de Informações Sociais (RAIS)\r\nPremissas:\r\nCientistas de dados são cadastrados com os seguintes códigos do CBO\r\n(Código\r\nBrasileiro de Ocupações):\r\n252515: Analista de cobrança (instituições financeiras)\r\n252525: Analista de crédito (instituições financeiras)\r\n211110: Especialista em pesquisa operacional\r\n211205: Estatístico\r\n211210: Estatístico (estatística aplicada)\r\n211215: Estatístico teórico\r\n411035: Auxiliar de estatística\r\n131120: Gerente de serviços sociais\r\n\r\nResolução:\r\nAcessando os dados da RAIS\r\nUtilizando o datalake da iniciativa Base dos Dados. Armazenada na Google\r\nCloud\r\n\r\n\r\n# Carregando os pacotes necessários\r\nlibrary(bigrquery)\r\nlibrary(dplyr)\r\n\r\n\r\n\r\n\r\n# Setando o email da conta Google utilizada para conexão\r\nbigrquery::bq_auth(\"jvitor968@gmail.com\")\r\n\r\n# Criando a conexão\r\nconexao <- dbConnect(\r\n  bigquery(),\r\n  project = \"basedosdados\",\r\n  dataset = \"br_me_rais\",\r\n  billing = \"meuprimeiroprojetor\", # id do projeto criado na Google Cloud\r\n)\r\n\r\n\r\n\r\n\r\ncodigos_cbo <- c(\"252515\", \"252525\", \"211110\", \"211205\", \"211210\", \"411035\", \"211215\", \"131120\")\r\n\r\n# Filtrando pelo cbo e os anos acima de 2013\r\ntabela_microdados_vinculos_tbl <- tbl(conexao, \"microdados_vinculos\") |>\r\n  select(everything()) |>\r\n  filter(\r\n    ano >= 2013,\r\n    cbo_2002 %in% codigos_cbo\r\n  )\r\n\r\ntabela_microdados_vinculos <- collect(tabela_microdados_vinculos_tbl)\r\n\r\n\r\nEscrevendo\r\nos dados filtrados em arquivo para evitar está requisitando ao Google\r\nCloud sempre que o script for executado\r\n\r\n\r\nreadr::write_rds(tabela_microdados_vinculos, \"tabela_microdados_vinculos.rds\", compress = \"xz\")\r\n\r\n\r\nLendo\r\nos dados a partir do arquivo escrito na etapa anterior\r\n\r\n\r\ntabela_microdados_vinculos <- readRDS(\"tabela_microdados_vinculos.rds\")\r\n\r\n\r\n1ª\r\nQuestão: Quanto a média salarial variou com o tempo?\r\n\r\n\r\nlibrary(ggplot2)\r\n\r\ntabela_medias <- tabela_microdados_vinculos |>\r\n  group_by(ano) |>\r\n  summarise(media_salario = mean(valor_remuneracao_media))\r\n\r\nggplot(tabela_medias) +\r\n  aes(x = ano, y = media_salario) +\r\n  geom_col() +\r\n  scale_x_continuous(breaks = 2013:2020)\r\n\r\n\r\n\r\n\r\nano\r\nmedia_salario\r\n2013\r\n3457.553\r\n2014\r\n3702.131\r\n2015\r\n4229.452\r\n2016\r\n4409.327\r\n2017\r\n4969.977\r\n2018\r\n4886.116\r\n2019\r\n4969.408\r\n2020\r\n4823.555\r\n\r\n2ª\r\nQuestão: Quanto a média salarial varia regionalmente?\r\n\r\n\r\ntabela_media_uf <- tabela_microdados_vinculos |>\r\n  group_by(sigla_uf) |>\r\n  summarise(\r\n    media_por_regiao = mean(valor_remuneracao_media)\r\n  )\r\n\r\nlibrary(forcats)\r\n\r\ntabela_media_uf |>\r\n  mutate(sigla_uf = fct_reorder(sigla_uf, media_por_regiao)) |>\r\n  arrange(desc(sigla_uf)) |>\r\n  ggplot() +\r\n  aes(y = sigla_uf, x = media_por_regiao) +\r\n  geom_col() +\r\n  labs(y = \"Unidade da Federação\", x = \"Média Salarial (R$)\")\r\n\r\n\r\n\r\nSerá\r\nque há muitos salários discrepantes puxando muito a média pra cima?\r\nVamos verificar o comportamento no caso da mediana:\r\n\r\n\r\n\r\nOs salários variam pelo sexo?\r\n\r\n\r\ntabela_resumo_sexo <- tabela_microdados_vinculos |>\r\n  group_by(sexo) |>\r\n  summarise(\r\n    media = mean(valor_remuneracao_media),\r\n    mediana = median(valor_remuneracao_media)\r\n  )\r\n\r\nggplot(tabela_resumo_sexo) +\r\n  aes(x = sexo, y = media, fill = sexo) +\r\n  geom_col()\r\n\r\n\r\ntabela_resumo_sexo |>\r\n  knitr::kable()\r\n\r\nsexo\r\nmedia\r\nmediana\r\n1\r\n5397.193\r\n4000.0\r\n2\r\n3649.779\r\n2359.1\r\n\r\nOs salários variam pela\r\netinia?\r\n\r\nraca_cor\r\nmedia\r\nmediana\r\n1\r\n3200.315\r\n2814.955\r\n2\r\n4355.907\r\n2977.775\r\n4\r\n3115.713\r\n2148.900\r\n6\r\n6800.561\r\n5409.820\r\n8\r\n2797.077\r\n1806.400\r\n9\r\n5665.834\r\n4779.850\r\n\r\n\r\nsexo\r\nraca_cor\r\nmedia\r\nmediana\r\n1\r\n1\r\n3287.617\r\n2821.700\r\n1\r\n2\r\n5311.689\r\n3752.490\r\n1\r\n4\r\n3547.412\r\n2396.870\r\n1\r\n6\r\n7873.850\r\n6392.740\r\n1\r\n8\r\n3311.193\r\n2105.990\r\n1\r\n9\r\n6700.049\r\n6691.930\r\n2\r\n1\r\n3059.924\r\n2655.995\r\n2\r\n2\r\n3731.934\r\n2631.000\r\n2\r\n4\r\n2810.014\r\n1998.670\r\n2\r\n6\r\n5851.433\r\n4747.320\r\n2\r\n8\r\n2485.005\r\n1655.670\r\n2\r\n9\r\n4566.266\r\n2574.650\r\n\r\n\r\nRestrições:\r\nOs dados são apenas de vínculos formais.\r\nDica: Distill is a publication format for scientific\r\nand technical writing, native to the web. Learn more about using Distill\r\nat https://rstudio.github.io/distill.\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-07-23-anlise-da-base-rais/anlise-da-base-rais_files/figure-html5/unnamed-chunk-6-1.png",
    "last_modified": "2022-07-25T08:53:10-03:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to Portfolio Data Science JVAA",
    "description": "Welcome to our new blog, Portfolio Data Science JVAA. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "João Vitor Alencar Amorim",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2022-07-23",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2022-07-25T09:22:12-03:00",
    "input_file": "welcome.knit.md"
  }
]
